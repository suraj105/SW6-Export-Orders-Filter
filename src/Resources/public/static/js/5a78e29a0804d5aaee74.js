(window["webpackJsonpPluginexport-orders"]=window["webpackJsonpPluginexport-orders"]||[]).push([[938],{660:function(){},938:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return n}}),t(431);var n={template:'<sw-page class="export-confirmation-page">\r\n    <template #smart-bar-header>\r\n        <h2>Export Confirmation</h2>\r\n    </template>\r\n\r\n    <template #content>\r\n        <sw-card-view>\r\n            <sw-card title="Export Orders" large>\r\n\r\n                \r\n                <div class="side-by-side-container">\r\n\r\n                    \r\n                    <div class="order-selection">\r\n                        <h3>Select order by number:</h3>\r\n                        <select id="orderDropdown" v-model="selectedOrderNumber" @change="filterOrders">\r\n                            <option v-for="order in orderOptions" :key="order.orderNumber" :value="order.orderNumber" :disabled="order.placeholder">\r\n                                {{ order.placeholder ? order.label : order.orderNumber + \' - \' + order.orderDateTime }}\r\n                            </option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    \r\n                    <div class="export-file-section">\r\n                        <h3>Your File</h3>\r\n                        <sw-button variant="primary" @click="downloadCsv">\r\n                            Download CSV\r\n                        </sw-button>\r\n                    </div>\r\n                </div>\r\n\r\n                \r\n                <div class="export-content-section">\r\n                    <h3>Content</h3>\r\n                    <sw-card class="csv-content-preview">\r\n                        <pre v-if="filteredOrders.length">{{ csvPreview }}</pre>\r\n                        <p v-else>No orders available for export.</p>\r\n                    </sw-card>\r\n                </div>\r\n            </sw-card>\r\n        </sw-card-view>\r\n    </template>\r\n</sw-page>\r\n',inject:["repositoryFactory","acl"],data(){return{orders:[{orderNumber:"1",orderCustomer:{firstName:"Mike"},billingAddress:{},deliveries:[],lineItems:[],orderDateTime:"2024-11-01T10:00:00Z"},{orderNumber:"2",orderCustomer:{firstName:"Anna"},billingAddress:{},deliveries:[],lineItems:[],orderDateTime:"2024-11-02T12:30:00Z"},{orderNumber:"3",orderCustomer:{firstName:"John"},billingAddress:{},deliveries:[],lineItems:[],orderDateTime:"2024-11-03T15:45:00Z"}],filteredOrders:[],selectedOrderNumber:""}},created(){this.loadOrders()},computed:{orderOptions(){return""===this.selectedOrderNumber?[{orderNumber:"",placeholder:!0,label:"Please select an order"},...this.orders]:this.orders},csvPreview(){return"order_number;customer_firstname\n"+this.orders.map(e=>`${e.orderNumber||""};${e.orderCustomer.firstName||""}`).join("\n")}},methods:{loadOrders(){this.filteredOrders=this.orders,console.log("Using hardcoded orders:",this.orders)},downloadCsv(){let e=this.csvPreview,r=new Blob([e],{type:"text/csv"}),t=URL.createObjectURL(r),n=document.createElement("a");n.href=t,n.download="exported_orders_test.csv",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)}}}},431:function(e,r,t){var n=t(660);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),t(346).Z("0ae2e5e5",n,!0,{})},346:function(e,r,t){"use strict";function n(e,r){for(var t=[],n={},o=0;o<r.length;o++){var s=r[o],d=s[0],i={id:e+":"+o,css:s[1],media:s[2],sourceMap:s[3]};n[d]?n[d].parts.push(i):t.push(n[d]={id:d,parts:[i]})}return t}t.d(r,{Z:function(){return m}});var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s={},d=o&&(document.head||document.getElementsByTagName("head")[0]),i=null,a=0,l=!1,c=function(){},u=null,p="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(e,r,t,o){l=t,u=o||{};var d=n(e,r);return v(d),function(r){for(var t=[],o=0;o<d.length;o++){var i=s[d[o].id];i.refs--,t.push(i)}r?v(d=n(e,r)):d=[];for(var o=0;o<t.length;o++){var i=t[o];if(0===i.refs){for(var a=0;a<i.parts.length;a++)i.parts[a]();delete s[i.id]}}}}function v(e){for(var r=0;r<e.length;r++){var t=e[r],n=s[t.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](t.parts[o]);for(;o<t.parts.length;o++)n.parts.push(b(t.parts[o]));n.parts.length>t.parts.length&&(n.parts.length=t.parts.length)}else{for(var d=[],o=0;o<t.parts.length;o++)d.push(b(t.parts[o]));s[t.id]={id:t.id,refs:1,parts:d}}}}function h(){var e=document.createElement("style");return e.type="text/css",d.appendChild(e),e}function b(e){var r,t,n=document.querySelector("style["+p+'~="'+e.id+'"]');if(n){if(l)return c;n.parentNode.removeChild(n)}if(f){var o=a++;r=w.bind(null,n=i||(i=h()),o,!1),t=w.bind(null,n,o,!0)}else r=y.bind(null,n=h()),t=function(){n.parentNode.removeChild(n)};return r(e),function(n){n?(n.css!==e.css||n.media!==e.media||n.sourceMap!==e.sourceMap)&&r(e=n):t()}}var g=function(){var e=[];return function(r,t){return e[r]=t,e.filter(Boolean).join("\n")}}();function w(e,r,t,n){var o=t?"":n.css;if(e.styleSheet)e.styleSheet.cssText=g(r,o);else{var s=document.createTextNode(o),d=e.childNodes;d[r]&&e.removeChild(d[r]),d.length?e.insertBefore(s,d[r]):e.appendChild(s)}}function y(e,r){var t=r.css,n=r.media,o=r.sourceMap;if(n&&e.setAttribute("media",n),u.ssrId&&e.setAttribute(p,r.id),o&&(t+="\n/*# sourceURL="+o.sources[0]+" */\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}}]);